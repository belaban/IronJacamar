<?xml version="1.0" encoding="UTF-8"?>
<chapter id="codegenerator">
   <title>Code generator</title>

   <section id="codegenerator_introduction">
      <title>Introduction</title>

      <para>The JBoss JCA project includes a resource adapter code generator which can
        generate a complete code skeleton that will help developers get started with
        their development tasks.</para>

   </section>

   <section id="codegenerator_functionality">
      <title>Functionality</title>

      <para>The code generator will generate a resource adapter code skeleton based
        on the user input. The code generator supports</para>

      <itemizedlist spacing="compact">
        <listitem>
          Resource adapter using JCA 1.6 annotations
        </listitem>
        <listitem>
          Resource adapter using JCA 1.6 metadata
        </listitem>
        <listitem>
          Resource adapter using JCA 1.5
        </listitem>
        <listitem>
          Resource adapter using JCA 1.0
        </listitem>
        <listitem>
          Apache Ant build environment
        </listitem>
      </itemizedlist>

   </section>

   <section id="codegenerator_running">
      <title>Running the tool</title>

      <para>The code generator can be run on the command line by</para>

      <programlisting>
./codegenerator.sh
      </programlisting>

      <para>from the <code>doc/codegenerator</code> directory.</para>

      <para>The code generator supports the following arguments</para>

      <table frame="all">
        <title>Code generator arguments</title>
        <tgroup cols="2" align="left" colsep="1" rowsep="1">
          <colspec colname="c1" colwidth="2*"/>
          <colspec colname="c2" colwidth="3*"/>
          <thead>
            <row>
              <entry align="left">Argument</entry>
              <entry align="left">Desciption</entry>
            </row>
          </thead>
          <tbody>
            <row>
              <entry><code>-o</code></entry>
              <entry>
                Specifies the output directory for the code skeleton.
              </entry>
            </row>
          </tbody>
        </tgroup>
      </table>

      <para>The developer must then answer various questions regarding the
        properties of the resource adapter.</para>

   </section>

   <section id="codegenerator_code">
      <title>Generated code</title>

      <para>The generated code will consist of the classes making up the resource adapter
        and a test suite environment based on the embedded distribution.</para>

      <para>The following targets are supported in the Apache Ant build environment</para>

      <table frame="all">
        <title>Apache Ant build environment</title>
        <tgroup cols="2" align="left" colsep="1" rowsep="1">
          <colspec colname="c1" colwidth="2*"/>
          <colspec colname="c2" colwidth="3*"/>
          <thead>
            <row>
              <entry align="left">Target</entry>
              <entry align="left">Desciption</entry>
            </row>
          </thead>
          <tbody>
            <row>
              <entry><code>compile</code></entry>
              <entry>
                Compiles all the files
              </entry>
            </row>
            <row>
              <entry><code>rar</code></entry>
              <entry>
                Builds the resource adapter archive
              </entry>
            </row>
            <row>
              <entry><code>prepare-test</code></entry>
              <entry>
                Prepares the test environment
              </entry>
            </row>
            <row>
              <entry><code>test</code></entry>
              <entry>
                Executes the tests
              </entry>
            </row>
            <row>
              <entry><code>docs</code></entry>
              <entry>
                Generates the documentation
              </entry>
            </row>
          </tbody>
        </tgroup>
      </table>


   </section>

</chapter>
