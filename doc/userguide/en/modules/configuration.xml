<?xml version="1.0" encoding="UTF-8"?>
<chapter id="configuration">
   <title>Configuration</title>

   <para>The configuration for the JBoss JCA container is located in the config/ directory.</para>

   <section id="logging">
      <title>Logging service</title>

      <para>The JBoss JCA container uses JBoss Logging framework as the implementation.</para>

      <para>The configuration is done in the</para>

      <programlisting>
config/logging.properties
      </programlisting>

      <para>file.</para>

      <para>Consult the <ulink url="http://www.jboss.org/community/wiki/JBossBootLogging">
          JBoss Logging documentation</ulink> on how the service can be configured.</para>

   </section>

   <section id="transaction">
      <title>Transaction service</title>

      <para>The JBoss JCA container uses the JBoss Transaction Manager as its transaction implementation.</para>

      <para>The configuration is done in the</para>

      <programlisting>
config/transaction.xml
      </programlisting>

      <para>file.</para>

      <para>Consult the JBoss Transaction documentation on how the service can be configured.</para>

   </section>

   <section id="jca">
      <title>JCA</title>

      <section id="jca_deployer">
        <title>Deployer</title>

        <para>The JBoss JCA deployer is configured in the</para>

        <programlisting>
config/bootstrap/jca.xml
        </programlisting>

        <para>file, as the</para>

        <programlisting>
&lt;bean name="RADeployer" 
      interface="org.jboss.jca.fungal.deployers.Deployer" 
      class="org.jboss.jca.deployers.fungal.RADeployer"&gt;
  &lt;depends&gt;BeanValidation&lt;/depends&gt;
  &lt;depends&gt;WorkManager&lt;/depends&gt;
&lt;/bean&gt;
        </programlisting>

        <para>bean.</para>

        <table frame="all">
          <title>JCA Deployer</title>
          <tgroup cols="3" align="left" colsep="1" rowsep="1">
            <colspec colname="c1" colwidth="2*"/>
            <colspec colname="c2"/>
            <colspec colname="c3" colwidth="3*"/>
            <thead>
              <row>
                <entry align="left">Property</entry>
                <entry align="left">Type</entry>
                <entry align="left">Description</entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry><code>ArchiveValidation</code></entry>
                <entry><code>boolean</code></entry>
                <entry>
                  Toggle archive validation for the deployment units.
                  <para>Default: <code>true</code></para>
                </entry>
              </row>
              <row>
                <entry><code>ArchiveValidationFailOnWarn</code></entry>
                <entry><code>boolean</code></entry>
                <entry>
                  Should an archive validation warning report fail the deployment.
                  <para>Default: <code>false</code></para>
                </entry>
              </row>
              <row>
                <entry><code>ArchiveValidationFailOnError</code></entry>
                <entry><code>boolean</code></entry>
                <entry>
                  Should an archive validation error report fail the deployment.
                  <para>Default: <code>true</code></para>
                </entry>
              </row>
              <row>
                <entry><code>BeanValidation</code></entry>
                <entry><code>boolean</code></entry>
                <entry>
                  Toggle bean validation (JSR-303) for the deployment units.
                  <para>Default: <code>true</code></para>
                </entry>
              </row>
              <row>
                <entry><code>DefaultBootstrapContext</code></entry>
                <entry><code>org.jboss.jca.core.api.CloneableBootstrapContext</code></entry>
                <entry>
                  Specifies the default bootstrap context for resource adapters
                </entry>
              </row>
              <row>
                <entry><code>PrintStream</code></entry>
                <entry><code>java.io.PrintStream</code></entry>
                <entry>
                  Specifies which print stream that should be used to handle the <code>LogWriter</code>s
                </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
      </section>

   </section>

   <section id="webserver">
      <title>Web server</title>

      <para>The JBoss JCA project features a web server which is used to serve web archive deployments.</para>

      <para>The configuration is done in the</para>

      <programlisting>
config/bootstrap/web.xml
      </programlisting>

      <para>file.</para>

      <table frame="all">
        <title>Web server</title>
        <tgroup cols="3" align="left" colsep="1" rowsep="1">
          <colspec colname="c1" colwidth="2*"/>
          <colspec colname="c2"/>
          <colspec colname="c3" colwidth="3*"/>
          <thead>
            <row>
              <entry align="left">Property</entry>
              <entry align="left">Type</entry>
              <entry align="left">Description</entry>
            </row>
          </thead>
          <tbody>
            <row>
              <entry><code>Port</code></entry>
              <entry><code>int</code></entry>
              <entry>
                Set the port for the web server
                <para>Default: <code>8080</code></para>
              </entry>
            </row>
          </tbody>
        </tgroup>
      </table>

      <para>The web server can be removed from the environment by removing the reference to <code>web.xml</code>
        in</para>

      <programlisting>
config/bootstrap.xml
      </programlisting>

      <para>file.</para>

   </section>


</chapter>
